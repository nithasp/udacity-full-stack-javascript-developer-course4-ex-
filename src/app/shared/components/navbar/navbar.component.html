<nav class="navbar">
  <div class="navbar__container">
    <a routerLink="/products" class="navbar__brand" (click)="closeMobileMenu()">
      <span class="navbar__logo">&#9670;</span>
      {{ title }}
    </a>

    <button
      class="navbar__toggle"
      (click)="toggleMobileMenu()"
      [attr.aria-expanded]="mobileMenuOpen"
      aria-label="Toggle navigation"
    >
      <span class="navbar__toggle-bar"></span>
      <span class="navbar__toggle-bar"></span>
      <span class="navbar__toggle-bar"></span>
    </button>

    <div
      class="navbar__menu"
      [class.navbar__menu--open]="mobileMenuOpen"
      [class.navbar__menu--closing]="menuClosing"
      (animationend)="onMenuAnimationDone($event)"
    >
      <a
        routerLink="/products"
        routerLinkActive="navbar__link--active"
        class="navbar__link"
        (click)="closeMobileMenu()"
      >
        Products
      </a>
      <a
        routerLink="/cart"
        routerLinkActive="navbar__link--active"
        class="navbar__link navbar__cart-link"
        (click)="closeMobileMenu()"
        aria-label="Cart"
      >
        <svg class="navbar__cart-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="9" cy="21" r="1"/>
          <circle cx="20" cy="21" r="1"/>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
        </svg>
        <span *ngIf="cartCount > 0" class="navbar__badge">{{ cartCount }}</span>
      </a>
    </div>
  </div>
</nav>
